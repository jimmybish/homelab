---
- name: Initial OS Configuration
  hosts: ubuntu:debian
  become: true
  roles:
    - os_configure
    - docker

- name: Install Docker
  hosts: ubuntu
  become: true
  roles:

- name: Deploy Proxy
  ansible.builtin.import_playbook: deploy_proxy.yaml

- name: Deploy Homepage
  ansible.builtin.import_playbook: deploy_homepage.yaml

- name: Deploy Arr Suite
  ansible.builtin.import_playbook: deploy_arr.yaml

- name: Deploy Plex
  ansible.builtin.import_playbook: deploy_plex.yaml

- name: Deploy Jellyfin
  ansible.builtin.import_playbook: deploy_jellyfin.yaml

- name: Deploy Grafana
  ansible.builtin.import_playbook: deploy_grafana.yaml

- name: Deploy n8n
  ansible.builtin.import_playbook: deploy_n8n.yaml

- name: Deploy Paperless
  ansible.builtin.import_playbook: deploy_paperless.yaml

- name: Deploy Scrypted
  ansible.builtin.import_playbook: deploy_scrypted.yaml

- name: Install Prometheus Node Exporter
  hosts: ubuntu
  become: true
  roles:
    - role: prometheus.prometheus.node_exporter
